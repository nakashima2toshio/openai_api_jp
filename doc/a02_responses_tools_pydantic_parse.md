# üìã a02_responses_tools_pydantic_parse.py Ë®≠Ë®àÊõ∏

## üìù ÁõÆÊ¨°

1. [üìñ Ê¶ÇË¶ÅÊõ∏](#üìñ-Ê¶ÇË¶ÅÊõ∏)
2. [üîß „Ç∑„Çπ„ÉÜ„É†ÊßãÊàê](#üîß-„Ç∑„Çπ„ÉÜ„É†ÊßãÊàê)
3. [üìã Èñ¢Êï∞‰∏ÄË¶ß](#üìã-Èñ¢Êï∞‰∏ÄË¶ß)
4. [üìë Èñ¢Êï∞Ë©≥Á¥∞Ë®≠Ë®à](#üìë-Èñ¢Êï∞Ë©≥Á¥∞Ë®≠Ë®à)
5. [‚öôÔ∏è ÊäÄË°ì‰ªïÊßò](#‚öôÔ∏è-ÊäÄË°ì‰ªïÊßò)
6. [üö® „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞](#üö®-„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞)

---

## üìñ Ê¶ÇË¶ÅÊõ∏

### üéØ Âá¶ÁêÜ„ÅÆÊ¶ÇË¶Å

**OpenAI Tools & Pydantic Parse È´òÂ∫¶„Éá„É¢„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥**

Êú¨„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØ„ÄÅOpenAI Responses API„ÅÆ`responses.parse()`„É°„ÇΩ„ÉÉ„Éâ„Å®PydanticÈñ¢Êï∞„ÉÑ„Éº„É´„ÇíÊ¥ªÁî®„Åó„ÅüÈ´òÂ∫¶„Å™ÊßãÈÄ†ÂåñÂá∫Âäõ„Éá„É¢„É≥„Çπ„Éà„É¨„Éº„Ç∑„Éß„É≥„Åß„Åô„ÄÇ10„ÅÆÊÆµÈöéÁöÑ„Å™„Éá„É¢„ÇíÈÄö„Åò„Å¶„ÄÅÁ∞°Âçò„Å™„Éá„Éº„ÇøÊäΩÂá∫„Åã„ÇâË§áÈõë„Å™ÂÖ•„ÇåÂ≠êÊßãÈÄ†Âá¶ÁêÜ„ÄÅÂ§ñÈÉ®APIÈÄ£Êê∫„ÄÅ‰ºöË©±Â±•Ê≠¥ÁÆ°ÁêÜ„Åæ„Åß„ÄÅÂÆüÁî®ÁöÑ„Å™AI„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÈñãÁô∫„Éë„Çø„Éº„É≥„Çí‰ΩìÈ®ì„Åß„Åç„Åæ„Åô„ÄÇ

#### üåü ‰∏ªË¶ÅÊ©üËÉΩ

| Ê©üËÉΩ | Ë™¨Êòé |
|------|------|
| üß† **Âü∫Êú¨ÁöÑFunction Call** | Â§©Ê∞óAPI„Å®ÈÄ£Êê∫„Åó„Åü„Ç∑„É≥„Éó„É´„Å™Èñ¢Êï∞Âëº„Å≥Âá∫„Åó |
| üìù **Ëá™ÁÑ∂ÊñáÊßãÈÄ†ÂåñÂá∫Âäõ** | Êï∞Â≠¶ÂïèÈ°å„ÅÆÊÆµÈöéÁöÑËß£Ê≥ï„ÇíÊßãÈÄ†Âåñ |
| üè∑Ô∏è **Ë§áÊï∞„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£ÊäΩÂá∫** | ‰∫∫Áâ©„ÉªÊõ∏Á±çÊÉÖÂ†±„ÅÆÂêåÊôÇÊäΩÂá∫Âá¶ÁêÜ |
| üèóÔ∏è **ÂÖ•„ÇåÂ≠êÊßãÈÄ†** | „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éª„Çø„Çπ„ÇØ„ÅÆÈöéÂ±§„Éá„Éº„ÇøÂá¶ÁêÜ |
| üìä **EnumÂûãÊ¥ªÁî®** | Ê∏©Â∫¶Âçò‰ΩçÁ≠â„ÅÆÂàóÊåôÂûã„Å´„Çà„ÇãÂûãÂÆâÂÖ®Âá¶ÁêÜ |
| üîç **Ë§áÈõë„ÇØ„Ç®„É™** | Êù°‰ª∂„Éª„ÇΩ„Éº„ÉàÊ©üËÉΩ„ÇíÂê´„ÇÄÈ´òÂ∫¶„Å™„ÇØ„Ç®„É™Âá¶ÁêÜ |
| üéØ **ÂãïÁöÑEnum** | ÂÑ™ÂÖàÂ∫¶ÁÆ°ÁêÜ„Åß„ÅÆÊó•Êú¨Ë™ûÂàóÊåôÂûãÊ¥ªÁî® |
| üß† **ÊÄùËÄÉ„ÅÆÈÄ£Èéñ(CoT)** | Chain of ThoughtÊé®Ë´ñ„Éó„É≠„Çª„ÇπÂÆüË£Ö |
| üí¨ **‰ºöË©±Â±•Ê≠¥** | ÈÄ£Á∂öÂØæË©±„Åß„ÅÆ„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà‰øùÊåÅÁÆ°ÁêÜ |
| ‚öôÔ∏è **Ë®≠ÂÆöÁµ±Âêà** | Ë§áÊï∞Ë®≠ÂÆö„Éë„Çø„Éº„É≥„ÅÆÁµ±‰∏ÄÁÆ°ÁêÜ |

### üìã „Çµ„Éñ„Éó„É≠„Ç∞„É©„É†„ÅÆ‰∏ÄË¶ßË°®

| „Éó„É≠„Ç∞„É©„É†Âêç | „ÇØ„É©„Çπ„ÉªÈñ¢Êï∞Âêç | Âá¶ÁêÜÊ¶ÇË¶Å |
|-------------|-------------|----------|
| a02_responses_tools_pydantic_parse.py | BaseDemo | „Éá„É¢Ê©üËÉΩ„ÅÆÂü∫Â∫ï„ÇØ„É©„Çπ |
| | BasicFunctionCallDemo | Âü∫Êú¨ÁöÑ„Å™function call„ÅÆ„Éá„É¢ |
| | MultipleToolsDemo | Ë§áÊï∞„ÉÑ„Éº„É´„ÅÆÁôªÈå≤„ÉªË§áÊï∞Èñ¢Êï∞Âëº„Å≥Âá∫„Åó„Éá„É¢ |
| | AdvancedMultipleToolsDemo | È´òÂ∫¶„Å™Ë§áÊï∞„ÉÑ„Éº„É´Âëº„Å≥Âá∫„Åó„Éá„É¢ |
| | NestedStructureDemo | ÂÖ•„ÇåÂ≠êÊßãÈÄ†„ÅÆ„Éá„É¢ |
| | EnumTypeDemo | EnumÂûã„ÅÆ„Éá„É¢ |
| | NaturalTextStructuredOutputDemo | Ëá™ÁÑ∂Êñá„Åß„ÅÆÊßãÈÄ†ÂåñÂá∫Âäõ„Éá„É¢ |
| | SimpleDataExtractionDemo | „Ç∑„É≥„Éó„É´„Å™„Éá„Éº„ÇøÊäΩÂá∫„Éá„É¢ |
| | MultipleEntityExtractionDemo | Ë§áÊï∞„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£ÊäΩÂá∫„Éá„É¢ |
| | ComplexQueryDemo | Ë§áÈõë„Å™„ÇØ„Ç®„É™„Éë„Çø„Éº„É≥„Éá„É¢ |
| | DynamicEnumDemo | ÂãïÁöÑ„Å™ÂàóÊåôÂûã„Éá„É¢ |
| | ChainOfThoughtDemo | ÊÄùËÄÉ„ÅÆÈÄ£Èéñ„Éá„É¢ |
| | ConversationHistoryDemo | ‰ºöË©±Â±•Ê≠¥„Éá„É¢ |
| | DemoManager | „Éá„É¢„ÅÆÁÆ°ÁêÜ„ÇØ„É©„Çπ |

#### üé® Âá¶ÁêÜÂØæË±°„Éá„Éº„Çø

```mermaid
graph LR
    A["User Query"] --> B["Pydantic Model"]
    B --> C["Function Tool"]
    C --> D["API Response"]
    D --> E["Structured Parse"]
    E --> F["Validation"]
    F --> G["UI Display"]
```

### üîÑ main„ÅÆÂá¶ÁêÜ„ÅÆÊµÅ„Çå

```mermaid
flowchart TD
    Start(["App Start"]) --> Config["Configuration Load"]
    Config --> Client["OpenAI Client Init"]
    Client --> Manager["DemoManager Setup"]
    
    Manager --> UI["Demo Selection UI"]
    UI --> Demo{"Selected Demo Type"}
    
    Demo -->|Basic| A["BasicFunctionCallDemo"]
    Demo -->|Text| B["NaturalTextStructuredOutputDemo"]
    Demo -->|Multi| C["MultipleEntityExtractionDemo"]
    Demo -->|Nested| D["NestedStructureDemo"]
    Demo -->|Enum| E["EnumDemo"]
    Demo -->|Query| F["ComplexQueryDemo"]
    Demo -->|Dynamic| G["DynamicEnumDemo"]
    Demo -->|CoT| H["ChainOfThoughtDemo"]
    Demo -->|History| I["ConversationHistoryDemo"]
    Demo -->|Settings| J["AllSettingsDemo"]
    
    A --> Result["Structured Result Display"]
    B --> Result
    C --> Result
    D --> Result
    E --> Result
    F --> Result
    G --> Result
    H --> Result
    I --> Result
    J --> Result
    
    Result --> UI
```

---

## üîß „Ç∑„Çπ„ÉÜ„É†ÊßãÊàê

### üì¶ ‰∏ªË¶Å„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà

```mermaid
classDiagram
    class BaseDemo {
        <<abstract>>
        +string demo_name
        +ConfigManager config
        +OpenAI client
        +run()
        +setup_sidebar()
        +error_handler_ui()
    }

    class DemoManager {
        +dict demos
        +run_application()
        +setup_main_sidebar()
    }

    class BasicFunctionCallDemo {
        +WeatherRequest model
        +NewsRequest model
        +run()
        +call_weather_api()
    }

    class NaturalTextStructuredOutputDemo {
        +MathResponse model
        +run()
        +solve_equation()
    }

    class MultipleEntityExtractionDemo {
        +ExtractedData model
        +run()
        +extract_entities()
    }

    class NestedStructureDemo {
        +ProjectRequest model
        +Task model
        +run()
    }

    class EnumDemo {
        +Unit enum
        +run()
    }

    class ComplexQueryDemo {
        +Query model
        +Condition model
        +run()
    }

    class ChainOfThoughtDemo {
        +Step model
        +run()
    }

    class ConversationHistoryDemo {
        +run()
        +manage_history()
    }

    BaseDemo <|-- BasicFunctionCallDemo
    BaseDemo <|-- NaturalTextStructuredOutputDemo
    BaseDemo <|-- MultipleEntityExtractionDemo
    BaseDemo <|-- NestedStructureDemo
    BaseDemo <|-- EnumDemo
    BaseDemo <|-- ComplexQueryDemo
    BaseDemo <|-- ChainOfThoughtDemo
    BaseDemo <|-- ConversationHistoryDemo
    DemoManager --> BaseDemo
```

### üìã „Éá„Éº„Çø„Éï„É≠„Éº

```mermaid
graph TD
    A["User Input"] --> B["Demo Selection"]
    B --> C["Pydantic Model"]
    C --> D["Function Tool Setup"]
    D --> E["OpenAI API Call"]
    E --> F["responses.parse()"]
    F --> G["Structured Response"]
    G --> H["Validation & Display"]
    H --> I["Session Update"]
```

---

## üìã Èñ¢Êï∞‰∏ÄË¶ß

### üèóÔ∏è „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Âà∂Âæ°Èñ¢Êï∞

| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `main()` | üéØ Âà∂Âæ° | „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Ëµ∑Âãï„Éª„Éá„É¢ÁÆ°ÁêÜ | ‚≠ê‚≠ê‚≠ê |
| `DemoManager.run_application()` | üéØ Âà∂Âæ° | „Éá„É¢Áµ±ÂêàÁÆ°ÁêÜ„ÉªÂÆüË°åÂà∂Âæ° | ‚≠ê‚≠ê‚≠ê |
| `BaseDemo.__init__()` | üîß ÂàùÊúüÂåñ | Âü∫Â∫ï„ÇØ„É©„ÇπÂàùÊúüÂåñ„ÉªË®≠ÂÆöÁÆ°ÁêÜ | ‚≠ê‚≠ê‚≠ê |
| `BaseDemo.run()` | üéØ Âà∂Âæ° | ÊäΩË±°ÂÆüË°å„É°„ÇΩ„ÉÉ„Éâ | ‚≠ê‚≠ê‚≠ê |

### ü§ñ „Éá„É¢ÂÆüË£ÖÈñ¢Êï∞

#### BasicFunctionCallDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `BasicFunctionCallDemo.run()` | üéØ ÂÆüË°å | Âü∫Êú¨ÁöÑÈñ¢Êï∞Âëº„Å≥Âá∫„Åó„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |
| `call_weather_api()` | üå§Ô∏è API | OpenWeatherMap APIÂëº„Å≥Âá∫„Åó | ‚≠ê‚≠ê‚≠ê |

#### NaturalTextStructuredOutputDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `NaturalTextStructuredOutputDemo.run()` | üéØ ÂÆüË°å | Ëá™ÁÑ∂ÊñáÊßãÈÄ†ÂåñÂá∫Âäõ„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

#### MultipleEntityExtractionDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `MultipleEntityExtractionDemo.run()` | üéØ ÂÆüË°å | Ë§áÊï∞„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£ÊäΩÂá∫„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

#### NestedStructureDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `NestedStructureDemo.run()` | üéØ ÂÆüË°å | ÂÖ•„ÇåÂ≠êÊßãÈÄ†Âá¶ÁêÜ„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

#### EnumDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `EnumDemo.run()` | üéØ ÂÆüË°å | ÂàóÊåôÂûãÊ¥ªÁî®„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

#### ComplexQueryDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `ComplexQueryDemo.run()` | üéØ ÂÆüË°å | Ë§áÈõë„ÇØ„Ç®„É™Âá¶ÁêÜ„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

#### ChainOfThoughtDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `ChainOfThoughtDemo.run()` | üéØ ÂÆüË°å | ÊÄùËÄÉÈÄ£ÈéñÊé®Ë´ñ„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

#### ConversationHistoryDemo
| Èñ¢Êï∞Âêç | ÂàÜÈ°û | Âá¶ÁêÜÊ¶ÇË¶Å | ÈáçË¶ÅÂ∫¶ |
|--------|------|----------|---------|
| `ConversationHistoryDemo.run()` | üéØ ÂÆüË°å | ‰ºöË©±Â±•Ê≠¥ÁÆ°ÁêÜ„Éá„É¢ | ‚≠ê‚≠ê‚≠ê |

---

## üìë Èñ¢Êï∞Ë©≥Á¥∞Ë®≠Ë®à

### üß† BasicFunctionCallDemo.run()

#### üéØ Âá¶ÁêÜÊ¶ÇË¶Å
Âü∫Êú¨ÁöÑ„Å™Function Calling„ÉªÂ§ñÈÉ®APIÈÄ£Êê∫„ÉªÊßãÈÄ†Âåñ„É¨„Çπ„Éù„É≥„ÇπÂá¶ÁêÜ

#### üìä Âá¶ÁêÜ„ÅÆÊµÅ„Çå
```mermaid
graph TD
    A["Demo Start"] --> B["Weather/News Models Display"]
    B --> C["User Query Input"]
    C --> D["Function Tool Setup"]
    D --> E{"Submit Clicked?"}
    E -->|No| F["Wait for Input"]
    E -->|Yes| G["responses.parse() Call"]
    G --> H["Function Call Processing"]
    H --> I["Weather API Call"]
    I --> J["Structured Response Display"]
    J --> F
```

#### üìã IPOË®≠Ë®à

| È†ÖÁõÆ | ÂÜÖÂÆπ |
|------|------|
| **INPUT** | „É¶„Éº„Ç∂„Éº„ÇØ„Ç®„É™„ÄÅ„É¢„Éá„É´ÈÅ∏Êäû„ÄÅAPIË®≠ÂÆö |
| **PROCESS** | Function ToolÁôªÈå≤ ‚Üí APIÂëº„Å≥Âá∫„Åó ‚Üí Â§ñÈÉ®APIÈÄ£Êê∫ ‚Üí ÁµêÊûúÊßãÈÄ†Âåñ |
| **OUTPUT** | ÊßãÈÄ†ÂåñÂ§©Ê∞óÊÉÖÂ†±„ÄÅ„Éã„É•„Éº„ÇπÊ§úÁ¥¢ÁµêÊûú |

#### üîç ‰ΩøÁî®„É¢„Éá„É´Ë©≥Á¥∞
```python
class WeatherRequest(BaseModel):
    city: str = Field(..., description="Â§©Ê∞ó„ÇíË™ø„Åπ„ÇãÈÉΩÂ∏ÇÂêç")
    date: str = Field(..., description="Â§©Ê∞ó„ÇíË™ø„Åπ„ÇãÊó•‰ªò")

class NewsRequest(BaseModel):
    topic: str = Field(..., description="„Éã„É•„Éº„ÇπÊ§úÁ¥¢„ÅÆ„Éà„Éî„ÉÉ„ÇØ")
    date: str = Field(default="today", description="Ê§úÁ¥¢Êó•‰ªò")
```

---

### üìù NaturalTextStructuredOutputDemo.run()

#### üéØ Âá¶ÁêÜÊ¶ÇË¶Å
Ëá™ÁÑ∂Êñá„Åß„ÅÆÊï∞Â≠¶ÂïèÈ°åËß£Ê≥ï„ÇíÊÆµÈöéÁöÑ„Å´ÊßãÈÄ†ÂåñÂá∫Âäõ

#### üìä Âá¶ÁêÜ„ÅÆÊµÅ„Çå
```mermaid
graph TD
    A["Demo Start"] --> B["Math Model Display"]
    B --> C["Equation Input"]
    C --> D["text_format Setup"]
    D --> E{"Solve Button?"}
    E -->|No| F["Wait for Input"]
    E -->|Yes| G["Math Response Parse"]
    G --> H["Step Validation"]
    H --> I["Solution Steps Display"]
    I --> F
```

#### üìã IPOË®≠Ë®à

| È†ÖÁõÆ | ÂÜÖÂÆπ |
|------|------|
| **INPUT** | Êï∞Â≠¶ÊñπÁ®ãÂºè„ÄÅÊ±ÇËß£ÊñπÊ≥ïÊåáÂÆö |
| **PROCESS** | text_formatÈÅ©Áî® ‚Üí ÊÆµÈöéÁöÑËß£Ê≥ïÁîüÊàê ‚Üí ÊßãÈÄ†Âåñ |
| **OUTPUT** | „Çπ„ÉÜ„ÉÉ„ÉóÈÖçÂàó„ÄÅÊúÄÁµÇËß£Á≠î |

#### üîç ‰ΩøÁî®„É¢„Éá„É´Ë©≥Á¥∞
```python
class Step(BaseModel):
    explanation: str = Field(..., description="„Åì„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„ÅÆË™¨Êòé")
    output: str = Field(..., description="Ë®àÁÆóÁµêÊûú")

class MathResponse(BaseModel):
    steps: List[Step] = Field(..., description="Ëß£Ê≥ï„Çπ„ÉÜ„ÉÉ„Éó")
    final_answer: str = Field(..., description="ÊúÄÁµÇÁ≠î„Åà")
```

---

### üè∑Ô∏è MultipleEntityExtractionDemo.run()

#### üéØ Âá¶ÁêÜÊ¶ÇË¶Å
Ë§áÊï∞Á®ÆÈ°û„ÅÆ„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£„ÇíÂêåÊôÇ„Å´ÊäΩÂá∫„ÉªÊßãÈÄ†ÂåñÂá¶ÁêÜ

#### üìä Âá¶ÁêÜ„ÅÆÊµÅ„Çå
```mermaid
graph TD
    A["Demo Start"] --> B["Entity Models Display"]
    B --> C["Mixed Text Input"]
    C --> D["Multiple Entity Setup"]
    D --> E{"Extract Button?"}
    E -->|No| F["Wait for Input"]
    E -->|Yes| G["Entity Extraction Parse"]
    G --> H["Person/Book Separation"]
    H --> I["Categorized Display"]
    I --> F
```

#### üìã IPOË®≠Ë®à

| È†ÖÁõÆ | ÂÜÖÂÆπ |
|------|------|
| **INPUT** | ‰∫∫Áâ©„ÉªÊõ∏Á±çÊÉÖÂ†±Ê∑∑Âú®„ÉÜ„Ç≠„Çπ„Éà |
| **PROCESS** | Ë§áÊï∞„É¢„Éá„É´ÈÅ©Áî® ‚Üí ÂêåÊôÇÊäΩÂá∫ ‚Üí „Ç´„ÉÜ„Ç¥„É™ÂàÜÈõ¢ |
| **OUTPUT** | ‰∫∫Áâ©ÊÉÖÂ†±ÈÖçÂàó„ÄÅÊõ∏Á±çÊÉÖÂ†±ÈÖçÂàó |

#### üîç ‰ΩøÁî®„É¢„Éá„É´Ë©≥Á¥∞
```python
class PersonInfo(BaseModel):
    name: str = Field(..., description="‰∫∫Áâ©Âêç")
    age: int = Field(..., description="Âπ¥ÈΩ¢")

class BookInfo(BaseModel):
    title: str = Field(..., description="Êõ∏Á±ç„Çø„Ç§„Éà„É´")
    author: str = Field(..., description="ËëóËÄÖÂêç")
    year: int = Field(..., description="Âá∫ÁâàÂπ¥")

class ExtractedData(BaseModel):
    people: List[PersonInfo] = Field(..., description="ÊäΩÂá∫„Åï„Çå„Åü‰∫∫Áâ©ÊÉÖÂ†±")
    books: List[BookInfo] = Field(..., description="ÊäΩÂá∫„Åï„Çå„ÅüÊõ∏Á±çÊÉÖÂ†±")
```

---

### üèóÔ∏è NestedStructureDemo.run()

#### üéØ Âá¶ÁêÜÊ¶ÇË¶Å
„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éª„Çø„Çπ„ÇØ„ÅÆÂÖ•„ÇåÂ≠êÊßãÈÄ†„Éá„Éº„ÇøÂá¶ÁêÜ

#### üìä Âá¶ÁêÜ„ÅÆÊµÅ„Çå
```mermaid
graph TD
    A["Demo Start"] --> B["Nested Models Display"]
    B --> C["Project Description Input"]
    C --> D["Nested Structure Setup"]
    D --> E{"Create Button?"}
    E -->|No| F["Wait for Input"]
    E -->|Yes| G["Nested Parse"]
    G --> H["Hierarchy Validation"]
    H --> I["Structured Tree Display"]
    I --> F
```

#### üìã IPOË®≠Ë®à

| È†ÖÁõÆ | ÂÜÖÂÆπ |
|------|------|
| **INPUT** | „Éó„É≠„Ç∏„Çß„ÇØ„ÉàË©≥Á¥∞ÊèèËø∞ |
| **PROCESS** | ÂÖ•„ÇåÂ≠êÊßãÈÄ†ÈÅ©Áî® ‚Üí ÈöéÂ±§„Éá„Éº„ÇøÁîüÊàê ‚Üí Ê§úË®º |
| **OUTPUT** | „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊÉÖÂ†±„ÄÅ„Çø„Çπ„ÇØ„É™„Çπ„Éà |

---

### üìä EnumDemo.run()

#### üéØ Âá¶ÁêÜÊ¶ÇË¶Å
ÂàóÊåôÂûã„ÇíÊ¥ªÁî®„Åó„ÅüÂûãÂÆâÂÖ®„Å™Ê∏©Â∫¶Âçò‰ΩçÂá¶ÁêÜ

#### üìä Âá¶ÁêÜ„ÅÆÊµÅ„Çå
```mermaid
graph TD
    A["Demo Start"] --> B["Enum Model Display"]
    B --> C["Temperature Query Input"]
    C --> D["Unit Enum Setup"]
    D --> E{"Convert Button?"}
    E -->|No| F["Wait for Input"]
    E -->|Yes| G["Enum Parse"]
    G --> H["Unit Validation"]
    H --> I["Temperature Display"]
    I --> F
```

#### üìã IPOË®≠Ë®à

| È†ÖÁõÆ | ÂÜÖÂÆπ |
|------|------|
| **INPUT** | Ê∏©Â∫¶Â§âÊèõ„ÇØ„Ç®„É™ |
| **PROCESS** | EnumÂûãÈÅ©Áî® ‚Üí Âçò‰ΩçÊ§úË®º ‚Üí Ê∏©Â∫¶Âá¶ÁêÜ |
| **OUTPUT** | Ê∏©Â∫¶ÂÄ§„ÄÅÂçò‰ΩçÊÉÖÂ†± |

#### üîç ‰ΩøÁî®EnumË©≥Á¥∞
```python
class Unit(str, Enum):
    celsius = "celsius"
    fahrenheit = "fahrenheit"
```

---

## ‚öôÔ∏è ÊäÄË°ì‰ªïÊßò

### üì¶ ‰æùÂ≠ò„É©„Ç§„Éñ„É©„É™

| „É©„Ç§„Éñ„É©„É™ | „Éê„Éº„Ç∏„Éß„É≥ | Áî®ÈÄî | ÈáçË¶ÅÂ∫¶ |
|-----------|-----------|------|---------|
| `streamlit` | ÊúÄÊñ∞ | üé® Web UI„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ | ‚≠ê‚≠ê‚≠ê |
| `openai` | ÊúÄÊñ∞ | ü§ñ OpenAI API SDK | ‚≠ê‚≠ê‚≠ê |
| `pydantic` | ÊúÄÊñ∞ | üìä „Éá„Éº„ÇøÊ§úË®º„Éª„É¢„Éá„É´ÂÆöÁæ© | ‚≠ê‚≠ê‚≠ê |
| `requests` | ÊúÄÊñ∞ | üåê Â§ñÈÉ®APIÈÄö‰ø° | ‚≠ê‚≠ê‚≠ê |
| `helper_st` | „Ç´„Çπ„Çø„É† | üé® UIÁµ±Âêà„Éò„É´„Éë„Éº | ‚≠ê‚≠ê‚≠ê |
| `helper_api` | „Ç´„Çπ„Çø„É† | üîß APIÁÆ°ÁêÜ„Éò„É´„Éë„Éº | ‚≠ê‚≠ê‚≠ê |

### üóÉÔ∏è Â§ñÈÉ®APIÁµ±Âêà

#### üìã OpenWeatherMap API‰ªïÊßò

```yaml
WeatherAPI:
  endpoint: "https://api.openweathermap.org/data/2.5/weather"
  method: "GET"
  params:
    lat: "Á∑ØÂ∫¶"
    lon: "ÁµåÂ∫¶" 
    appid: "API_KEY"
  cities:
    Tokyo: [35.6895, 139.69171]
    Osaka: [34.6937, 135.5023]
```

#### üîÑ APIÂëº„Å≥Âá∫„Åó„Éë„Çø„Éº„É≥

```python
# Function ToolÁôªÈå≤
tools = [
    pydantic_function_tool(WeatherRequest),
    pydantic_function_tool(NewsRequest, name="news_search")
]

# APIÂëº„Å≥Âá∫„Åó
response = self.client.responses.parse(
    model=model,
    input=messages,
    tools=tools
)

# ÁµêÊûúÂá¶ÁêÜ
for function_call in response.output.function_calls:
    args = function_call.parsed_arguments
```

### üíæ Pydantic„É¢„Éá„É´‰ΩìÁ≥ª

#### üèóÔ∏è „É¢„Éá„É´ÂàÜÈ°û

```yaml
Model_Categories:
  basic: ["WeatherRequest", "NewsRequest", "PersonInfo"]
  nested: ["ProjectRequest", "ExtractedData", "MathResponse"]
  enum: ["Unit", "Priority", "Operator"]
  complex: ["Query", "Condition", "Step"]
```

#### ‚öôÔ∏è „É¢„Éá„É´Ë®≠Ë®à„Éë„Çø„Éº„É≥

```python
# Âü∫Êú¨„Éë„Çø„Éº„É≥
class BasicModel(BaseModel):
    field: str = Field(..., description="Ë™¨Êòé")
    
# ÂÖ•„ÇåÂ≠ê„Éë„Çø„Éº„É≥
class NestedModel(BaseModel):
    items: List[SubModel] = Field(..., description="Â≠êË¶ÅÁ¥†")
    
# Enum„Éë„Çø„Éº„É≥  
class Status(str, Enum):
    active = "active"
    inactive = "inactive"
```

---

## üö® „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞

### üìÑ „Ç®„É©„ÉºÂàÜÈ°û

| „Ç®„É©„ÉºÁ®ÆÂà• | ÂéüÂõ† | ÂØæÂá¶Ê≥ï | ÂΩ±ÈüøÂ∫¶ |
|-----------|------|--------|---------|
| **PydanticÊ§úË®º„Ç®„É©„Éº** | üö´ „É¢„Éá„É´Ê§úË®ºÂ§±Êïó | „Çπ„Ç≠„Éº„ÉûÁ¢∫Ë™ç„Éª„Éá„Éº„Çø‰øÆÊ≠£ | üî¥ È´ò |
| **APIÈÄö‰ø°„Ç®„É©„Éº** | üåê Â§ñÈÉ®APIÂïèÈ°å | APIÁä∂ÊÖãÁ¢∫Ë™ç„Éª„É™„Éà„É©„Ç§ | üî¥ È´ò |
| **Function CallÂ§±Êïó** | üîß Èñ¢Êï∞Âëº„Å≥Âá∫„ÅóÂïèÈ°å | „ÉÑ„Éº„É´Ë®≠ÂÆöÁ¢∫Ë™ç„ÉªÂÜçÂÆüË°å | üü° ‰∏≠ |
| **„É¢„Éá„É´ÈÅ∏Êäû„Ç®„É©„Éº** | ü§ñ ÁÑ°Âäπ„É¢„Éá„É´ | „Çµ„Éù„Éº„Éà„É¢„Éá„É´Á¢∫Ë™ç | üü° ‰∏≠ |
| **„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„Ç®„É©„Éº** | üíæ Áä∂ÊÖãÁÆ°ÁêÜÂïèÈ°å | „Çª„ÉÉ„Ç∑„Éß„É≥„É™„Çª„ÉÉ„Éà | üü† ‰Ωé |

### üõ†Ô∏è „Ç®„É©„ÉºÂá¶ÁêÜÊà¶Áï•

#### üîß Áµ±‰∏Ä„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞

```mermaid
graph TD
    A["API Call"] --> B{"Success?"}
    B -->|Yes| C["Pydantic Parse"]
    B -->|No| D["API Error Display"]
    C --> E{"Parse Success?"}
    E -->|Yes| F["Result Display"]
    E -->|No| G["Validation Error"]
    D --> H["Error Message"]
    G --> H
    H --> I["Debug Info"]
    I --> J["Retry Options"]
```

#### ‚úÖ „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏‰æã

```python
# PydanticÊ§úË®º„Ç®„É©„Éº
st.error("‚ùå „Éá„Éº„ÇøÊ§úË®º„Å´Â§±Êïó„Åó„Åæ„Åó„Åü")
st.warning("‚ö†Ô∏è ÂÖ•Âäõ„Éá„Éº„Çø„Åå„É¢„Éá„É´Ë¶Å‰ª∂„ÇíÊ∫Ä„Åü„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì")
st.info("üí° ÂØæÂá¶Ê≥ï: „É¢„Éá„É´„Çπ„Ç≠„Éº„Éû„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ")

# Â§ñÈÉ®API „Ç®„É©„Éº
st.error("‚ùå Â§ñÈÉ®APIÂëº„Å≥Âá∫„Åó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü")
st.info("üí° ÂØæÂá¶Ê≥ï: API„Ç≠„Éº„ÇíÁ¢∫Ë™ç„Åô„Çã„Åã„ÄÅ„Åó„Å∞„Çâ„ÅèÂæÖ„Å£„Å¶„Åã„ÇâÂÜçÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ")
```

### üéØ „Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩ

```python
# „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ë°®Á§∫
with st.expander("üêõ „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±"):
    st.json({
        "model": selected_model,
        "messages": messages,
        "tools": tool_names,
        "response": response_dict
    })
```

---

## üéâ „Åæ„Å®„ÇÅ

„Åì„ÅÆË®≠Ë®àÊõ∏„ÅØ„ÄÅ**a10_02_responses_tools_pydantic_parse.py** „ÅÆÂåÖÊã¨ÁöÑ„Å™ÊäÄË°ì‰ªïÊßò„Å®ÂÆüË£ÖË©≥Á¥∞„ÇíÁ∂≤ÁæÖ„Åó„ÅüÂÆåÂÖ®„Éâ„Ç≠„É•„É°„É≥„Éà„Åß„Åô„ÄÇ

### üåü Ë®≠Ë®à„ÅÆ„Éè„Ç§„É©„Ç§„Éà

- **üìä ÊÆµÈöéÁöÑÂ≠¶Áøí**: 10„Éá„É¢„Å´„Çà„ÇãÊßãÈÄ†ÂåñÂá∫Âäõ„ÅÆ‰ΩìÁ≥ªÁöÑÁøíÂæó
- **üîß ÂÆüÁî®ÁöÑÁµ±Âêà**: Â§ñÈÉ®APIÈÄ£Êê∫„Å®Function CallingÂÆüË£Ö
- **üõ°Ô∏è ÂûãÂÆâÂÖ®ÊÄß**: Pydantic„Å´„Çà„ÇãÂé≥ÂØÜ„Å™ÂûãÊ§úË®º„Ç∑„Çπ„ÉÜ„É†
- **üé® Ë±äÂØå„Å™UI**: „Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ„Å™Â≠¶Áøí„Éª‰ΩìÈ®ìÁí∞Â¢É
- **üí° ÂÆüË∑µÁöÑ‰æã**: ÂÆüÈöõ„ÅÆÊ•≠Âãô„Åß‰ΩøÁî®ÂèØËÉΩ„Å™„Éë„Çø„Éº„É≥ÈõÜ

### üîß „Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£ÁâπÂæ¥

- **üì¶ „É¢„Ç∏„É•„Éº„É´Ë®≠Ë®à**: BaseDemoÁ∂ôÊâø„Å´„Çà„ÇãÁµ±‰∏Ä„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
- **üîÑ APIÁµ±Âêà**: OpenAI + Â§ñÈÉ®API„ÅÆ„Ç∑„Éº„É†„É¨„ÇπÈÄ£Êê∫
- **üíæ „Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ**: ‰ºöË©±Â±•Ê≠¥„Å®„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà‰øùÊåÅÊ©üËÉΩ
- **‚öôÔ∏è Ë®≠ÂÆöÁµ±Âêà**: ‰∏≠Â§ÆÈõÜÁ¥ÑÂûãË®≠ÂÆöÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
- **üéØ ÊÆµÈöéÁöÑË§áÈõëÂ∫¶**: Âü∫Á§é„Åã„ÇâÈ´òÂ∫¶„Å™Ê©üËÉΩ„Åæ„ÅßÊÆµÈöéÁöÑ„Å´Â≠¶ÁøíÂèØËÉΩ